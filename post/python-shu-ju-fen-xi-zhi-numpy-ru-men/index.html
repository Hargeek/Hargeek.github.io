<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Python数据分析之Numpy入门 | 山山仙人博客</title>
<meta name="description" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/5.7.2/css/all.css">
<link rel="shortcut icon" href="https://www.ssgeek.com/favicon.ico?v=1655002295372">
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://www.ssgeek.com/styles/main.css">


  
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/gitalk/1.6.2/gitalk.css" />
  

  


<script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script data-ad-client="ca-pub-6775328896166270" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4b826a92a3dc151a74693fa1942d3167";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/aos/2.3.4/aos.css" />


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-147397031-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-147397031-1');
</script>


  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://www.ssgeek.com">
        <img src="https://www.ssgeek.com/images/avatar.png?v=1655002295372" class="site-logo">
        <h1 class="site-title">山山仙人博客</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="https://www.ssgeek.com" class="site-nav">
            首页
          </a>
        
      
        
          <a href="https://www.ssgeek.com/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="https://www.ssgeek.com/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="https://www.ssgeek.com/post/about/" class="site-nav">
            关于
          </a>
        
      
        
          <a href="https://www.ssgeek.com/post/gong-zhong-hao/" class="site-nav">
            公众号
          </a>
        
      
        
          <a href="https://www.ssgeek.com/post/you-qing-lian-jie/" class="site-nav">
            友情链接
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/hargeek" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
          <a class="social-link" href="https://twitter.com/anronghong" target="_blank">
            <i class="fab fa-twitter"></i>
          </a>
        
      
        
          <a class="social-link" href="https://weibo.com/u/5717964658" target="_blank">
            <i class="fab fa-weibo"></i>
          </a>
        
      
        
          <a class="social-link" href="https://www.zhihu.com/people/hong-an-rong-46/activities" target="_blank">
            <i class="fab fa-zhihu"></i>
          </a>
        
      
        
          <a class="social-link" href="https://www.facebook.com/profile.php?id=100041470532098" target="_blank">
            <i class="fab fa-facebook"></i>
          </a>
        
      
    </div>
    <div class="site-description">
      
    </div>
    <div class="site-footer">
      <a href="https://beian.miit.gov.cn" style="text-decoration:none;">鄂ICP备18007156号-1</a></br></br>Copyright © All Rights Reserved | <a class="rss" href="https://www.ssgeek.com/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>

      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Python数据分析之Numpy入门</h2>
            <div class="post-date">2020-04-14</div>
            
            <div class="post-content">
              <p><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#1-%E4%BB%80%E4%B9%88%E6%98%AFnumpy">1、什么是numpy</a></li>
<li><a href="#2-%E5%AE%89%E8%A3%85numpy">2、安装numpy</a></li>
<li><a href="#3-n%E7%BB%B4%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1">3、n维数组对象</a></li>
<li><a href="#4-%E6%95%B0%E7%BB%84%E5%88%9B%E5%BB%BA">4、数组创建</a></li>
<li><a href="#5-%E6%95%B0%E7%BB%84%E7%BB%B4%E5%BA%A6">5、数组维度</a></li>
<li><a href="#6-%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0">6、数组元素个数</a></li>
<li><a href="#7-%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">7、数组元素数据类型</a></li>
<li><a href="#8-%E6%94%B9%E5%8F%98%E6%95%B0%E7%BB%84%E5%BD%A2%E7%8A%B6">8、改变数组形状</a></li>
<li><a href="#9-%E6%95%B0%E7%BB%84%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%87%E7%89%87%E6%93%8D%E4%BD%9C">9、数组索引和切片操作</a></li>
<li><a href="#10-%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%8E%E5%85%83%E7%B4%A0%E8%BF%AD%E4%BB%A3">10、数组转换与元素迭代</a></li>
<li><a href="#11-%E6%95%B0%E7%BB%84%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C">11、数组级联操作</a></li>
<li><a href="#12-%E6%95%B0%E7%BB%84%E6%95%B0%E5%80%BC%E8%88%8D%E5%85%A5">12、数组数值舍入</a></li>
<li><a href="#13-%E6%95%B0%E7%BB%84%E6%95%B0%E5%80%BC%E6%B7%BB%E5%8A%A0">13、数组数值添加</a></li>
<li><a href="#14-%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E5%8E%BB%E9%87%8D">14、数组元素去重</a></li>
<li><a href="#15-%E5%B8%B8%E7%94%A8%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0">15、常用数学函数</a></li>
<li><a href="#16-%E5%B8%B8%E7%94%A8%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0">16、常用统计函数</a></li>
<li><a href="#17-%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97">17、矩阵运算</a></li>
</ul>
</li>
</ul>
</p>
<h2 id="1-什么是numpy">1、什么是numpy</h2>
<p><code>NumPy(Numerical Python)</code>是<code>Python</code>语言中做科学计算的基础库。重在于数值计算，也是大部分<code>Python</code>科学计算库的基础，多用于在大型，多维数组上执行的数值运算。</p>
<p><code>numpy</code>具有以下三大特点</p>
<ul>
<li>拥有<code>n</code>维数组对象</li>
<li>拥有广播功能</li>
<li>拥有各种科学计算<code>API</code></li>
</ul>
<h2 id="2-安装numpy">2、安装numpy</h2>
<p><code>numpy</code>是一个<code>python</code>库，所以使用<code>python</code>包管理工具<code>pip</code>或者<code>conda</code>都可以安装</p>
<pre><code>pip install numpy
或者
conda install numpy
</code></pre>
<h2 id="3-n维数组对象">3、n维数组对象</h2>
<p><code>n</code>维数组<code>ndarray</code>对象，是一系列同类数据的集合，可以进行索引、切片、迭代操作。</p>
<p>判断一个数组是几维，主要是看它有几个轴<code>axis</code><br>
一个轴表示一维数组，两个轴表示二维数组，以此类推。<br>
每个轴都代表一个一维数组。<br>
比如说，二维数组第一个轴里的每个元素都是一个一维数组，也就是第二个轴。</p>
<p>一维数组一个轴：</p>
<pre><code>[1,2,3]
</code></pre>
<p>二维数组两个轴：</p>
<pre><code>[[0, 1, 2],
 [3, 4, 5]]
</code></pre>
<p>三维数组三个轴：</p>
<pre><code>[[[ 0,  1,  2],
  [ 3,  4,  5]],
 [[ 6,  7,  8],
  [ 9, 10, 11]]]
</code></pre>
<p>以此类推n维数组</p>
<h2 id="4-数组创建">4、数组创建</h2>
<p><code>numpy</code>中常用<code>array</code>函数创建数组，传入列表或元组即可</p>
<ul>
<li>创建一维数组，并指定数组类型为<code>int</code></li>
</ul>
<pre><code>import numpy as np
np.array([1,2,3],dtype=int)

# 输出：array([1, 2, 3])
</code></pre>
<ul>
<li>创建二维数组</li>
</ul>
<pre><code>import numpy as np
np.array(((1,2),(3,4)))

 '''
输出：
array([[1, 2],
       [3, 4]])
'''
</code></pre>
<ul>
<li>使用<code>arange</code>函数创建一维数字数组，用法类似<code>python</code>的<code>range</code>函数</li>
</ul>
<pre><code>import numpy as np
np.arange(1,6)
'''
输出：array([1, 2, 3, 4, 5])
'''
</code></pre>
<ul>
<li>创建随机数组，<code>numpy</code>的<code>random</code>模块用来创建随机数组</li>
</ul>
<p><code>random.rand</code>函数，生成<code>[0,1)</code>均匀分布的随机数组</p>
<pre><code>import numpy as np
# 创建2行2列取值范围为[0,1)的数组
np.random.rand(2,2)
'''
输出：
array([[0.99449146, 0.92339551],
       [0.1837405 , 0.41719798]])
'''
</code></pre>
<p><code>random.randn</code>函数，生成数值成标准正态分布（平均值为0，标准差为1）的数组</p>
<pre><code>import numpy as np
# 创建2行3列，取值范围为标准正态分布的数组
np.random.randn(3,2)
'''
输出：
array([[-1.27481003, -1.5888111 ],
       [ 0.16985203, -2.91526479],
       [ 1.75992671, -2.81304831]])
'''
</code></pre>
<p><code>random.randint</code>函数，生成可以指定范围的随机整数数组</p>
<pre><code>import numpy as np
# 创建2行2列,取值范围为[2,10)的随机整数数组
np.random.randint(2,10,size=(2,2))
'''
输出：
array([[5, 4],
       [3, 7]])
'''
</code></pre>
<p><code>random.normal</code>函数，生成数值成正态分布（可指定平均值、标准差）的数组</p>
<pre><code>import numpy as np
# 创建一维，数值成正态分布（均值为1，标准差为2）的数组
# 参数loc代表均值，scale代表标准差
np.random.normal(loc=1,scale=2,size=5)
'''
输出：
array([ 0.82962241,  0.41738042,  0.0470862 ,  1.79446076, -1.47514478])
'''
</code></pre>
<p><code>random</code>模块的其他函数</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>seed</td>
<td>确定随机数生成器的种子，固定生成的随机数</td>
</tr>
<tr>
<td>permutation</td>
<td>返回一个序列的随机排列或返回一个随机排列的范围</td>
</tr>
<tr>
<td>shuffle</td>
<td>对一个序列就地随机排列</td>
</tr>
<tr>
<td>rand</td>
<td>产生均匀分布的样本值</td>
</tr>
<tr>
<td>randint</td>
<td>从给定的上下限范围内随机选取整数</td>
</tr>
<tr>
<td>randn</td>
<td>产生正态分布（平均值为0，标准差为1）的样本值，类似于MATLAB接口</td>
</tr>
<tr>
<td>binomial</td>
<td>产生二项分布的样本值</td>
</tr>
<tr>
<td>normal</td>
<td>产生正态（高斯）分布的样本值</td>
</tr>
<tr>
<td>beta</td>
<td>产生Beta分布的样本值</td>
</tr>
</tbody>
</table>
<h2 id="5-数组维度">5、数组维度</h2>
<p>数组维度即代表轴的数量，可以通过数组<code>ndarray</code>对象的<code>ndim</code>或<code>shape</code>属性，来查看轴的数量</p>
<ul>
<li><code>ndim</code>属性直接返回维度值</li>
<li><code>shape</code>属性返回一个元组，元组的长度即代表维度值，里面的数字从左往右分别代表每一轴的元素数量</li>
</ul>
<pre><code>import numpy as np
# 创建一维数组
x1 = np.array([1,2,3])
# 返回维度值
x1.ndim
'''
输出：1
'''
# 创建二维数组
x2 = np.array([[1,2,3],[4,5,6]])
# 返回形状
x2.shape
'''
输出：(2, 3)
元素长度为2代表二维，
元素2代表0轴有两个元素，
元素3代表1轴有3个元素。
'''
</code></pre>
<h2 id="6-数组元素个数">6、数组元素个数</h2>
<p>数组<code>ndarray</code>对象的<code>size</code>属性可以查看数组包含元素总数</p>
<pre><code>import numpy as np
# 创建二维数组
x2 = np.array([[1,2,3],[4,5,6]])
# 查看元素总数
x2.size
'''
输出：6
'''
</code></pre>
<p>通过<code>shape</code>属性返回元素的乘积，来计算数组元素数量</p>
<pre><code>import numpy as np
from functools import reduce
# 创建二维数组
x2 = np.array([[1,2,3],[4,5,6]])
# 查看元素总数
reduce(lambda x,y:x*y , x2.shape)
'''
输出：6
shape形状：
(2,3)
'''
</code></pre>
<h2 id="7-数组元素数据类型">7、数组元素数据类型</h2>
<p><code>numpy</code>支持的数据类型非常多，所以很适合做数值计算，常见的数据类型如下<br>
来源：https://www.runoob.com/numpy/numpy-dtype.html</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bool_</td>
<td>布尔型数据类型（True 或者 False）</td>
</tr>
<tr>
<td>int_</td>
<td>默认的整数类型（类似于 C 语言中的 long，int32 或 int64）</td>
</tr>
<tr>
<td>intc</td>
<td>与 C 的 int 类型一样，一般是 int32 或 int 64</td>
</tr>
<tr>
<td>intp</td>
<td>用于索引的整数类型（类似于 C 的 ssize_t，一般情况下仍然是 int32 或 int64）</td>
</tr>
<tr>
<td>int8</td>
<td>字节（-128 to 127）</td>
</tr>
<tr>
<td>int16</td>
<td>整数（-32768 to 32767）</td>
</tr>
<tr>
<td>int32</td>
<td>整数（-2147483648 to 2147483647）</td>
</tr>
<tr>
<td>int64</td>
<td>整数（-9223372036854775808 to 9223372036854775807）</td>
</tr>
<tr>
<td>uint8</td>
<td>无符号整数（0 to 255）</td>
</tr>
<tr>
<td>uint16</td>
<td>无符号整数（0 to 65535）</td>
</tr>
<tr>
<td>uint32</td>
<td>无符号整数（0 to 4294967295）</td>
</tr>
<tr>
<td>uint64</td>
<td>无符号整数（0 to 18446744073709551615）</td>
</tr>
<tr>
<td>float_</td>
<td>float64 类型的简写</td>
</tr>
<tr>
<td>float16</td>
<td>半精度浮点数，包括：1 个符号位，5 个指数位，10 个尾数位</td>
</tr>
<tr>
<td>float32</td>
<td>单精度浮点数，包括：1 个符号位，8 个指数位，23 个尾数位</td>
</tr>
<tr>
<td>float64</td>
<td>双精度浮点数，包括：1 个符号位，11 个指数位，52 个尾数位</td>
</tr>
<tr>
<td>complex_</td>
<td>complex128 类型的简写，即 128 位复数</td>
</tr>
<tr>
<td>complex64</td>
<td>复数，表示双 32 位浮点数（实数部分和虚数部分）</td>
</tr>
<tr>
<td>complex128</td>
<td>复数，表示双 64 位浮点数（实数部分和虚数部分）</td>
</tr>
</tbody>
</table>
<p><code>numpy</code>数组<code>ndarrry</code>对象提供<code>dtype</code>属性，用来查看数组类型</p>
<pre><code>import numpy as np
# 创建二维数组
x2 = np.array([[1,2,3],[4,5,6]],dtype=int)
# 返回类型
x2.dtype
'''
输出：dtype('int32')
'''
</code></pre>
<h2 id="8-改变数组形状">8、改变数组形状</h2>
<p>数组的<code>shape</code>属性返回一个元组，能够反映数组的形状，包括维度以及每个轴的元素数量<br>
对于改变数组形状的常用方式有两种</p>
<ul>
<li><code>reshape</code>方法，它返回一个新的数组，而不能改变原始数组</li>
</ul>
<p>传入整数或者元组形式的参数<br>
传入的参数和<code>shape</code>属性返回的元组的含义是一样的。例如， <code>x2.reshape(1,2,3)</code>是将二维数组转换成三维数组，参数个数代表要转换的维度，参数数字从左到右分别表示<code>0</code>轴、<code>1</code>轴、<code>2</code>轴的元素数量</p>
<pre><code>import numpy as np
# 创建二维数组
x2 = np.array([[1,2,3],[4,5,6]])
# 将x2转换为三维数组，并且自定义每个轴的元素数量
x2.reshape(1,2,3)
'''
输出：
array([[[1, 2, 3],
        [4, 5, 6]]])
'''
</code></pre>
<ul>
<li><code>resize</code>方法，和<code>reshape</code>方法使用形式一样，区别是<code>resize</code>方法改变了原始数组形状</li>
</ul>
<pre><code>import numpy as np
# 创建二维数组
x2 = np.array([[1,2,3],[4,5,6]])
# 将x2转换为三维数组，并且自定义每个轴的元素数量
x2.resize((1,2,3))
x2
'''
输出：
array([[[1, 2, 3],
        [4, 5, 6]]])
'''
</code></pre>
<h2 id="9-数组索引和切片操作">9、数组索引和切片操作</h2>
<p><code>numpy</code>一维数组的索引和切片操作类似<code>python</code>列表<br>
例如取一维数组前三个元素</p>
<pre><code>import numpy as np
# 创建一维数组
x1 = np.array([1,2,3,4])
# 切片，取前三个元素
x1[:3]
'''
输出：
array([1, 2, 3])
'''
</code></pre>
<p><strong>重点</strong>是对多维数组的索引和切片操作</p>
<ul>
<li>多维数组索引</li>
</ul>
<p>多维数组有多个轴，那么就需要对每个轴进行索引。<br>
例如，三维数组形状为<code>(x,y,z)</code>，分别代表：<code>0</code>轴有<code>x</code>个元素、<code>1</code>轴有<code>y</code>个元素，<code>2</code>轴有<code>z</code>个元素。<br>
对<code>0</code>、<code>1</code>、<code>2</code>轴进行索引，如果取<code>o</code>轴第<code>2</code>个元素、<code>1</code>轴第<code>0</code>个元素、<code>2</code>轴第<code>3</code>个元素，那么索引形式就为<code>[2,0,3]</code></p>
<pre><code>import numpy as np
# 创建三维数组
x3 = np.arange(24).reshape(3,2,4)
# 对该三维数组进行索引
x3[2,0,3]

'''
输出：19

三维数组形式：
array([[[ 0,  1,  2,  3],
        [ 4,  5,  6,  7]],

       [[ 8,  9, 10, 11],
        [12, 13, 14, 15]],

       [[16, 17, 18, 19],
        [20, 21, 22, 23]]])
'''
</code></pre>
<ul>
<li>多维数组切片</li>
</ul>
<p>如果取<code>o</code>轴前<code>2</code>个元素、<code>1</code>轴前<code>1</code>个元素、<code>2</code>轴后<code>2</code>个元素，那么切片形式就为<code>[:2,:1,-2:]</code></p>
<pre><code>import numpy as np
# 创建三维数组
x3 = np.arange(24).reshape(3,2,4)
# 对该三维数组进行切片
x3[:2,:1,-2:]

'''
输出：
array([[[ 2,  3]],

       [[10, 11]]])

三维数组形式：
array([[[ 0,  1,  2,  3],
        [ 4,  5,  6,  7]],

       [[ 8,  9, 10, 11],
        [12, 13, 14, 15]],

       [[16, 17, 18, 19],
        [20, 21, 22, 23]]])
'''
</code></pre>
<ul>
<li>数组数据翻转</li>
</ul>
<pre><code>import numpy as np
# 创建二维数组
arr = np.random.randint(0,100,size=(5,7))
# 对该数组进行数据反转
arr[::-1,::-1]

'''
输出
array([[42, 49, 71, 20, 38, 94, 47],
       [47, 73,  6, 39, 60, 94, 93],
       [94,  2,  5, 18,  4, 18, 78],
       [25, 85, 38, 39, 20,  1, 84],
       [86, 28,  9, 80, 69,  9,  3]])

二维数组形式：
array([[ 3,  9, 69, 80,  9, 28, 86],
       [84,  1, 20, 39, 38, 85, 25],
       [78, 18,  4, 18,  5,  2, 94],
       [93, 94, 60, 39,  6, 73, 47],
       [47, 94, 38, 20, 71, 49, 42]])
'''
</code></pre>
<h2 id="10-数组转换与元素迭代">10、数组转换与元素迭代</h2>
<ul>
<li>数组转换</li>
</ul>
<p>利用数组对象的<code>ravel</code>方法，可将多维数组展开为一维数组</p>
<pre><code>import numpy as np
# 创建数组
x3 = np.arange(12).reshape(3,4)
# 对该数组进行索引
x3.ravel()
'''
输出：
array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])
'''
</code></pre>
<ul>
<li>元素迭代</li>
</ul>
<p>说道迭代，最容易想到的是对数组使用<code>for</code>循环进行迭代，其次是使用迭代器<br>
<code>for</code>循环对于一维数组是可以的，对于多维数组，迭代时相对于0轴完成的<br>
如果使用嵌套循环，固然可以，然而太低效<br>
此时使用<code>flat</code>方法可以将多维数组平铺为一维的迭代器</p>
<pre><code>import numpy as np
# 创建二维数组
x2 = np.array([[1,2,3],[4,5,6]])
# 先平铺，再迭代
for i in x2.flat:
    print(i)
'''
输出：
1
2
3
4
5
6
'''
</code></pre>
<h2 id="11-数组级联操作">11、数组级联操作</h2>
<p>级联是指将两个或多个<code>numpy</code>数组进行横向或者纵向的拼接<br>
拼接时有参数<code>axis</code>，值为<code>0</code>表示按列操作(竖直方向)，值为<code>1</code>时表示按行操作(水平方向)</p>
<pre><code>import numpy as np
# 创建两个二维数组
x1 = np.array([[1,2,3],[4,5,6]])
x2 = np.array([[7,8,9],[10,11,12]])
# 连接,默认沿0轴连接
np.concatenate((x1,x2))

'''
输出：
array([[ 1,  2,  3],
       [ 4,  5,  6],
       [ 7,  8,  9],
       [10, 11, 12]])
'''

# 指定沿1轴连接
np.concatenate((x1,x2),axis=1)

'''
输出：
array([[ 1,  2,  3,  7,  8,  9],
       [ 4,  5,  6, 10, 11, 12]])
'''
</code></pre>
<h2 id="12-数组数值舍入">12、数组数值舍入</h2>
<p><code>around</code>函数，用于四舍五入，返回一个新数组</p>
<pre><code>import numpy as np
# 创建一维数组
x1 = np.array([1.45,2.78,3.12])
# 四舍五入，到小数点后1位
np.around(x1,1)
'''
输出：
array([1.4, 2.8, 3.1])
'''
</code></pre>
<p><code>floor</code>函数，用于向下取整，返回一个新数组</p>
<pre><code>import numpy as np
# 创建一维数组
x1 = np.array([1.45,2.78,3.12])
# 向下取整
np.floor(x1)
'''
输出：
array([1., 2., 3.])
'''
</code></pre>
<p><code>ceil</code>函数，用于向上取整，返回一个新数组</p>
<pre><code>import numpy as np
# 创建一维数组
x1 = np.array([1.45,2.78,3.12])
# 向下取整
np.ceil(x1)
'''
输出：
array([2., 3., 4.])
'''
</code></pre>
<h2 id="13-数组数值添加">13、数组数值添加</h2>
<ul>
<li><code>append</code> 函数向数组末尾追加值，可以指定不同的轴</li>
</ul>
<pre><code>import numpy as np
# 创建一个二维数组
x1 = np.array([[1,2,3],[4,5,6]])
# 直接向数组末尾添加元素，返回平铺的一维数组
np.append(x1,[7,8,9])
'''
输出：
array([1, 2, 3, 4, 5, 6, 7, 8, 9])
'''

# 沿轴 0 添加元素
np.append(x1, [[7,8,9]],axis = 0)
'''
输出：
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])
'''

# 沿轴 1 添加元素
np.append(x1, [[5,5,5],[7,8,9]],axis = 1)
'''
输出：
array([[1, 2, 3, 5, 5, 5],
       [4, 5, 6, 7, 8, 9]])
'''
</code></pre>
<ul>
<li><code>insert</code> 函数可以沿给定轴，在数组中任意位置插入数据</li>
</ul>
<pre><code>import numpy as np
# 创建一个二维数组
x1 = np.array([[1,2,3],[4,5,6],[7,8,9]])
# 直接在指定位置插入元素，返回平铺的一维数组
np.insert(x1,2,[0,0,0])
'''
输出：
array([1, 2, 0, 0, 0, 3, 4, 5, 6, 7, 8, 9])

原数组：
array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])
'''

# 指定位置，沿轴 0 插入元素
np.insert(x1,1,[0,0,0],axis=0)
'''
输出：
array([[1, 2, 3],
       [0, 0, 0],
       [4, 5, 6],
       [7, 8, 9]])
'''

# 指定位置，沿轴 1插入元素
np.insert(x1,2,[0,0,0],axis=1)
'''
输出：
array([[1, 2, 0, 3],
       [4, 5, 0, 6],
       [7, 8, 0, 9]])
'''
</code></pre>
<h2 id="14-数组元素去重">14、数组元素去重</h2>
<p><code>unique</code> 函数用于去除数组中的重复元素，返回一个新数组<br>
<code>unique</code>函数还能返回重复元素的索引、计数等信息</p>
<pre><code>import numpy as np
# 创建一个一维数组
x1 = np.array([2,3,5,1,3,8,1,0])
np.unique(x1)
'''
输出：
array([0, 1, 2, 3, 5, 8])
'''

</code></pre>
<h2 id="15-常用数学函数">15、常用数学函数</h2>
<ul>
<li><code>numpy</code>提供了标准的三角函数：<code>sin()</code>、<code>cos()</code>、<code>tan()</code></li>
<li><code>numpy.around(a,decimals)</code>函数返回指定数字的四舍五入值
<ul>
<li>参数说明：
<ul>
<li><code>a</code>:数组</li>
<li><code>decimails</code>:舍入的小数位数，默认值为<code>0</code>，如果为负，整数将四舍五入到小数点左侧的位置</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>import numpy as np
# 创建一个一维数组
arr = np.random.randint(0,100,size=(3,4))
np.sin(arr)

np.around(arr,decimals=-1)
'''
输出：
array([[-0.24525199, -0.44411267, -0.8462204 , -0.28790332],
       [-0.62988799,  0.10598751,  0.99060736, -0.99388865],
       [-0.7391807 , -0.40403765, -0.91652155,  0.89399666]])

array([[90, 80, 20, 20],
       [80, 90, 10, 80],
       [60, 30, 40, 90]])
'''
</code></pre>
<h2 id="16-常用统计函数">16、常用统计函数</h2>
<ul>
<li><code>numpy.amin()</code>和<code>numpy.amax()</code>,用于计算数组中的元素沿指定轴的最小，最大值</li>
<li><code>numpy.ptp()</code>:计算数组中元素最大值与最小值的差(最大值-最小值)</li>
<li><code>numpy.median()</code>函数用于计算数组<code>a</code>中元素的中位数（中值）</li>
<li>标准差<code>std()</code>:标准差是一组数据平均值分散程度的一种度量
<ul>
<li>公式:std = sqrt(mean((x - x-mean())**2))</li>
<li>如果数组是[1,2,3,4],则其平均值为2.5，因此，差的平方是[2.25,0.25,0.25,2.25],并且其平均值的平方根除以4,即sqrt(5/4),结果为1.1180339887498949</li>
</ul>
</li>
<li>方差<code>var()</code>:统计中的方差（样本方差）是每个样本值与全体样本值的平均数之差的平方值的平均数，即mean((x - x.mean())**2)。换句话说，标准差是方差的平方根</li>
</ul>
<pre><code>import numpy as np
a = np.array([22,33,21,34,41,44])
a.std()
a.var()

'''
输出：
8.65544144839919

74.91666666666667
'''
</code></pre>
<h2 id="17-矩阵运算">17、矩阵运算</h2>
<ul>
<li><code>numpy中</code>包含了一个矩阵库<code>numpy.matlib</code>，该模块中的函数返回的是一个矩阵，而不是<code>ndarray</code>对象。一个的矩阵是一个由行(row)列(column)元素排列成的矩形阵列</li>
<li><code>numpy.matlib.identity()</code>函数返回给定大小的单位矩阵。单位矩阵是个方阵，从左上角到右下角的对角线（称为主对角线）的元素均为1，除此以外全都为0</li>
<li>转置矩阵<code>.ST</code></li>
</ul>
<pre><code>import numpy as np
# 创建二维数组
x1 = np.arange(12).reshape(3,4)
# 转置
x1.T

'''
输出：
array([[ 0,  4,  8],
       [ 1,  5,  9],
       [ 2,  6, 10],
       [ 3,  7, 11]])
原数组：
array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])
'''
</code></pre>
<ul>
<li>矩阵相乘
<ul>
<li><code>numpy.dot(a, b, out=None)</code>
<ul>
<li><code>a</code> : <code>ndarray</code>数组</li>
<li><code>b</code>: <code>ndarray</code>数组</li>
<li>矩阵相乘：第一个矩阵第一行的每个数字（2和1），各自乘以第二个矩阵第一列对应位置的数字（1和1），然后将乘积相加（ 2 x 1 + 1 x 1），得到结果矩阵左上角的那个值3。也就是说，结果矩阵第m行与第n列交叉位置的那个值，等于第一个矩阵第m行与第二个矩阵第n列，对应位置的每个值的乘积之和。</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>import numpy as np
# 创建二维数组
a1 = np.array([[2,1],[4,3]])
a2 = np.array([[1,2],[1,0]])
np.dot(a1,a2)

'''
输出：
array([[3, 4],
       [7, 8]])
'''
</code></pre>
<p>以上就是个人学习数据分析相关的<code>numpy</code>入门及常用知识，欢迎来骚扰O(∩_∩)O</p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://www.ssgeek.com/tag/vhKLQmmvn" class="tag">
                    python
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://www.ssgeek.com/post/mysql-bei-fen-zhi-xtrabackup">
                  <h3 class="post-title">
                    MySQL备份之Xtrabackup
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/aos/2.3.4/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '22c870a7f8551b566598',
        clientSecret: '1acfdedd403cdf39c4a6ce932a4a991bb2b32e3a',
        repo: 'hargeek.github.io',
        owner: 'hargeek',
        admin: ['hargeek'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  


  </body>
</html>
